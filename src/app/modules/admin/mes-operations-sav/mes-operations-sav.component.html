<div class="flex flex-col flex-auto min-w-0 overflow-hidden" [@fadeInRight]="{value:'', params: {duration: 700}}">

    <!-- Header -->
    <header class="flex flex-col items-center justify-center px-5 sm:px-16 w-full min-h-80 md:min-h-76 mes-credits-bg-header">
        <div class="w-full max-w-400">
            <bienvenue></bienvenue>
        </div>
    </header>
    <div class="px-5 sm:px-16 py-10 sm:pt-18 sm:pb-20">

        <div class="w-full max-w-400 mx-auto">
          
     <div  class="flex flex-col sm:flex-row flex-0 sm:items-center sm:justify-between py-8 px-5 sm:px-16  border-b ">

            <div class="flex flex-col">
                <span class="text-2xl md:text-4xl uppercase font-extrabold leading-tight tracking-tight text-primary">
                    Mes opérations SAV
                </span>
                <div class="max-w-xl mt-2 md:text-xl text-secondary">
                    Vous avez (5) opérations
                </div>
            </div>

            <div class="flex shrink-0 items-center mt-6 sm:mt-0 sm:ml-4">
                <!-- Search -->
                <mat-form-field class="fuse-mat-dense fuse-mat-no-subscript fuse-mat-rounded min-w-64">
                    <mat-icon class="icon-size-5" matPrefix [svgIcon]="'heroicons_solid:search'"></mat-icon>
                    <input matInput [formControl]="searchInputControl"  [placeholder]="'Search'">
                </mat-form-field>

            </div>
      
    </div>
    <div class="w-full  inset-x-0 bottom-0" *ngIf="isLoading">
        <mat-progress-bar [mode]="'indeterminate'"></mat-progress-bar>
    </div>
    <div class="px-5 sm:px-16 py-10 sm:pt-18 sm:pb-20 ">
    
            <ng-container *ngIf="operationsSavs && operationsSavs.length > 0; else noCredits">

                <div class="mx-auto sm:w-fit grid grid-cols-1 gap-y-14 md:gap-x-10 md:gap-y-16 mt-16"
                    [ngClass]="{'md:grid-cols-3' : operationsSavs.length > 4 || operationsSavs.length === 3,
                                'md:grid-cols-1' : operationsSavs.length === 1,
                                'md:grid-cols-2' : operationsSavs.length === 4 || operationsSavs.length === 2}">
                    <ng-container *ngFor="let dossierCredit of operationsSavs; let i = index; trackBy: trackByFn">
                        <div class="flex flex-col border border-primary rounded-md bg-card">
                            <div class="flex flex-col items-center ">
                                <div class=" top-0 left-1/2 transform -translate-x-1/2 border-t border-gray-200 w-1/2"></div>
                                <div class="flex items-center justify-center h-16 w-16 rounded-full font-medium text-center leading-none bg-second-500 relative top-0 transform -translate-y-1/2">
                                    <!--mat-icon class="icon-size-16 text-on-primary ml-0.5" svgIcon="finance"
                                    <mat-icon class="icon-size-6 text-on-primary ml-0.5" vgIcon="assets/iconswi/HOME-REPAIR.svg">
                                    </mat-icon>-->
                                    <div class="icon-size-12 ml-0.5">
                                        <img src="assets/iconswi/HOME-REPAIR.svg" class="w-full h-full text-white">
                                      </div>
                                      
                                      
                                </div>
                            </div>
                             <!-- titre -->
                             <div class="w-full flex flex-col items-center">
                                <div class="text-2xl font-bold leading-tight uppercase border-b-8 border-second mb-4  rounded-xl ">Crédit N° {{dossierCredit.id}}</div>
                            </div>
                            <div class="flex flex-col md:flex-row mx-5 mb-10 mt-0 ">
                                
                                    <!-- données -->
                                    <div  class="flex flex-col space-y-5  items-start">

                                        <div class="flex flex-row items-center space-x-5">
                                            <div class="flex items-center justify-center h-10 w-10 rounded-full font-medium text-center leading-none bg-primary-500">
                                                <mat-icon class="icon-size-6 text-on-primary ml-0.5" [svgIcon]="'mat_solid:model_training'">
                                                </mat-icon>
                                            </div>
                                            <span class="text-2xl font-semibold">Nom Opération :</span>
                                            <span class="font-medium">{{dossierCredit.nom}}</span>
                                        </div>
                                        
                                        <div class="flex flex-row items-center space-x-5">
                                            <div class="flex items-center justify-center h-10 w-10 rounded-full font-medium text-center leading-none bg-primary-500">
                                                <mat-icon class="icon-size-6 text-on-primary ml-0.5" [svgIcon]="'mat_solid:date_range'">
                                                </mat-icon>
                                            </div>
                                            <span class="text-2xl font-semibold">Date Opération :</span>
                                            <span class="font-medium">{{dossierCredit.date}}</span>
                                        </div>

                                        <div class="flex flex-row items-center space-x-5">
                                            <div class="flex items-center justify-center h-10 w-10 rounded-full font-medium text-center leading-none bg-primary-500">
                                                <mat-icon class="icon-size-6 text-on-primary ml-0.5" [svgIcon]="'mat_solid:fiber_smart_record'">
                                                </mat-icon>
                                            </div>
                                            <span class="text-2xl font-semibold">Statut Opération :</span>
                                            <span class="font-medium">{{dossierCredit.statut}}</span>
                                        </div>
            
                                    
                                    </div>

                           
        
                            </div>
                        </div>
                    </ng-container>

                </div>

            </ng-container>

            <!-- No demande template -->
            <ng-template #noCredits>
                <div class="flex flex-col flex-auto items-center justify-center bg-second-100 dark:bg-transparent min-h-60 border border border-gray-200 shadow-sm rounded-md mt-10">
                    <mat-icon class="icon-size-20 md:icon-size-24" [svgIcon]="'mat_outline:search_off'"></mat-icon>
                    <div class="mt-4 text-xl md:text-2xl font-semibold tracking-tight text-secondary">
                        Il n'y a pas d'opération SAV'!
                    </div>
                </div>
            </ng-template>
        </div>

   

        </div>
    </div>
</div>