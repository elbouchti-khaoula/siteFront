<div class="flex flex-col flex-auto overflow-y-auto bg-card dark:bg-default">

    <!-- Header -->
    <div class="flex flex-0 items-center h-18 px-6 border-b bg-gray-50 dark:bg-transparent">
        <button mat-icon-button (click)="drawer.close()">
            <mat-icon [svgIcon]="'heroicons_outline:arrow-narrow-left'"></mat-icon>
        </button>
        <div class="ml-2 text-2xl font-semibold">Contacter le promoteur</div>
    </div>

    <!-- Main -->
    <div class="px-6">
        <!-- Form -->
        <div class="p-6 pb-7">
            <!-- Alert -->
            <fuse-alert *ngIf="alert" [type]="alert.type" [showIcon]="false">
                {{alert.message}}
            </fuse-alert>
            <form class="space-y-1" [formGroup]="supportForm" #supportNgForm="ngForm">
                <div class="my-5">
                    <div class="text-2xl font-bold tracking-tight">Submit your request</div>
                    <div class="text-secondary">Your request will be processed and our support staff will get back to
                        you in 24 hours.</div>
                </div>
                <!-- Name -->
                <mat-form-field class="w-full">
                    <input matInput [formControlName]="'name'" [required]="true">
                    <mat-label>Name</mat-label>
                    <mat-error *ngIf="supportForm.get('name').hasError('required')">
                        Required
                    </mat-error>
                </mat-form-field>
                <!-- Email -->
                <mat-form-field class="w-full">
                    <input type="email" matInput [formControlName]="'email'" [required]="true">
                    <mat-label>Email</mat-label>
                    <mat-error *ngIf="supportForm.get('email').hasError('required')">
                        Required
                    </mat-error>
                    <mat-error *ngIf="supportForm.get('email').hasError('email')">
                        Enter a valid email address
                    </mat-error>
                </mat-form-field>
                <!-- Phone -->
                <mat-form-field class="w-full">
                    <input matInput [formControlName]="'phone'">
                    <mat-label>Phone</mat-label>
                </mat-form-field>
                <!-- Subject -->
                <mat-form-field class="w-full">
                    <input matInput [formControlName]="'subject'" [required]="true">
                    <mat-label>Subject</mat-label>
                    <mat-error *ngIf="supportForm.get('subject').hasError('required')">
                        Required
                    </mat-error>
                </mat-form-field>
                <!-- Message -->
                <mat-form-field class="fuse-mat-textarea w-full">
                    <textarea matInput [formControlName]="'message'" [required]="true" [rows]="5"
                        matTextareaAutosize></textarea>
                    <mat-label>Message</mat-label>
                    <mat-error *ngIf="supportForm.get('message').hasError('required')">
                        Required
                    </mat-error>
                </mat-form-field>
                <!-- Actions -->
                <div class="flex items-center justify-end">
                    <button mat-button [color]="'accent'" [disabled]="supportForm.pristine || supportForm.untouched"
                        (click)="clearForm()">
                        Clear
                    </button>
                    <button class="ml-2" mat-flat-button [color]="'primary'"
                        [disabled]="supportForm.pristine || supportForm.invalid" (click)="sendForm()">
                        Submit
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>