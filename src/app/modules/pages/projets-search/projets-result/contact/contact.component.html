<div class="flex flex-col flex-auto h-full bg-card dark:bg-default">

    <!-- Header -->
    <div class="flex flex-0 items-center h-18 px-6 border-b bg-gray-50 dark:bg-transparent">
        <button mat-icon-button (click)="drawer.close()">
            <mat-icon [svgIcon]="'heroicons_outline:arrow-narrow-left'"></mat-icon>
        </button>
        <div class="ml-2 text-2xl font-semibold">Contacter le promoteur</div>
    </div>

    <!-- Main Form -->
    <div class="px-10 py-6 overflow-y-auto">
        <!-- Alert -->
        <fuse-alert *ngIf="alert" [type]="alert.type" [showIcon]="false">
            {{alert.message}}
        </fuse-alert>
        <form class="space-y-1" [formGroup]="supportForm" #supportNgForm="ngForm">
            <!-- Name -->
            <mat-form-field class="w-full">
                <input matInput [formControlName]="'name'" [required]="true">
                <mat-label>Nom</mat-label>
                <mat-error *ngIf="supportForm.get('name').hasError('required')">
                    Required
                </mat-error>
            </mat-form-field>
            <!-- Email -->
            <mat-form-field class="w-full">
                <input type="email" matInput [formControlName]="'email'" [required]="true">
                <mat-label>Email</mat-label>
                <mat-error *ngIf="supportForm.get('email').hasError('required')">
                    Required
                </mat-error>
                <mat-error *ngIf="supportForm.get('email').hasError('email')">
                    Enter a valid email address
                </mat-error>
            </mat-form-field>
            <!-- Phone -->
            <mat-form-field class="w-full">
                <input matInput [formControlName]="'phone'">
                <mat-label>Téléphone</mat-label>
            </mat-form-field>
            <!-- Subject
            <mat-form-field class="w-full">
                <input matInput [formControlName]="'subject'" [required]="true">
                <mat-label>Subject</mat-label>
                <mat-error *ngIf="supportForm.get('subject').hasError('required')">
                    Required
                </mat-error>
            </mat-form-field> -->
            <!-- Message -->
            <mat-form-field class="fuse-mat-textarea w-full">
                <textarea matInput [formControlName]="'message'" [required]="true" [rows]="5"
                    matTextareaAutosize></textarea>
                <mat-label>Message</mat-label>
                <mat-error *ngIf="supportForm.get('message').hasError('required')">
                    Required
                </mat-error>
            </mat-form-field>
            <!-- Actions -->
            <div class="flex items-center justify-end">
                <button mat-button
                    [color]="'accent'"
                    [disabled]="supportForm.pristine || supportForm.untouched"
                    (click)="clearForm()">
                    Vider
                </button>
                <button class="ml-2" 
                    mat-flat-button
                    [color]="'primary'"
                    [disabled]="supportForm.pristine || supportForm.invalid"
                    (click)="sendForm()">
                    Envoyer
                </button>
            </div>
        </form>
    </div>

</div>